# Лабораторная работа №4

### Симуляция библиотеки с пользовательскими коллекциями

## Структура проекта

 <pre>
lab_4/
├── src/                               
│   ├── __init__.py
│   ├── book.py                        # Модуль книги
│   ├── library.py                     # Модуль с библиотекой
│   ├── main.py                        # Файл мэин
│   ├── my_collections.py              # Модуль с алгоритмами коллекций
│   └── simulations.py                 # Модуль с реализацией симуляции
├── tests/                             # Тесты
│   ├── __init__.py
│   └── test_library.py                # Тесты для нашей библиотеки
└── README.md                          # Описание проекта
</pre>

#### Описание лабораторной работы

Проект представляет собой систему управления библиотекой с 
реализацией пользовательских коллекций и 
симуляцией работы библиотеки. В рамках работы реализованы две 
пользовательские коллекции: списковая (BookCollection) и словарная 
(IndexDict), а также полноценная модель библиотеки с индексацией и 
поиском книг.

#### Основной функционал

Пользовательские коллекции:

- **BookCollection**:
Списковая коллекция книг с поддержкой индексации,
срезов, итерации и операций добавления/удаления
- **IndexDict**:
Словарная коллекция для индексации книг по ISBN, 
автору и году с автоматическим обновлением индексов

Классы предметной области:

- **Book**:
Класс книги с полями: title, author, year, genre, isbn
- **Library**:
Основной класс библиотеки, содержащий коллекции книг и индексов

Симуляция:

- Псевдослучайная симуляция работы библиотеки на заданное количество шагов
- 7 различных типов событий: добавление книги, удаление, поиск по автору/жанру/году/ISBN, поиск несуществующей книги

#### Структура
book.py Класс Book:

- __init__() - создание объекта книги
- __repr__() - строковое представление для отладки
- __str__() - читаемое строковое представление

my_collections.py BookCollection:

- __getitem__() - доступ по индексу и срезу

- __iter__(), __len__() - итерация и длина коллекции

- append(), remove(), insert() - добавление и удаление элементов

- contains(), get_by_title() - дополнительные методы поиска

- IndexDict:

- __getitem__(), __setitem__(), __delitem__() - работа с индексами

- Автоматическая индексация по ISBN, автору и году

- __contains__() - проверка существования книги по ISBN


library.py Класс Library:

- add_book() - добавление книги в библиотеку и обновление индексов

- remove_book() - удаление книги по ISBN

- find_by_author(), find_by_year(), find_by_isbn(), find_by_genre() - методы поиска

- __contains__() - проверка наличия книги по ISBN


/simulation.py Модуль симуляции:

- simulate() - основная функция симуляции

- Генерация случайных событий: добавление, удаление, поиск

- Использование случайных данных: авторы, названия, жанры

main.py
Точка входа в программу:

- Запуск симуляции на 10 шагов

test_library.py
Комплексные тесты:

- Тесты создания объектов Book

- Тесты BookCollection (длина, итерация, индексация, срезы)

- Тесты IndexDict (добавление, обновление, удаление)

- Тесты Library (добавление, удаление, поиск)

#### Установка и запуск
Требования:
- Python 3.11 или выше
- Библиотека pytest для запуска тестов